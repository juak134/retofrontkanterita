<div >
    <h1 class="title"><strong>Búsqueda de Orden</strong></h1>
</div>

<div class="shear">
    <form [formGroup]="formSearch" (ngSubmit)="searchOrder()" novalidate>
        <mat-form-field class="margin-one">
          <input matInput type="number" formControlName="idOrder"
                 placeholder="Id Orden">
        </mat-form-field>
        <button type="submit" mat-raised-button color="primary" class="margin-one">
            Buscar
        </button>
  </form>
</div>

<div class="dataOrder" *ngIf="orderData">
    <div class="col">
        <span><strong>Número de Orden: </strong> {{ orderData['number']}}</span>
    </div>
    <div class="col">
        <span><strong>Cliente: </strong> {{ orderData['client']}}</span>
    </div>
    <div class="col">
        <span><strong>Total: </strong> {{ orderData['total']}}</span>
    </div>
    <div class="col">
        <span><strong>Fecha de Orden: </strong> {{ orderData['dateOrder']}}</span>
    </div>

    <div class="col">
        <button type="button" mat-raised-button color="primary" class="margin-one" (click)="addDetail()">
            Agregar Detalle
        </button>
        <button type="button" mat-raised-button color="red" class="margin-one" (click)="print()">
            Imprimir
        </button>
    </div>
</div>
<div class="dataOrder" *ngIf="!orderData">
    <div class="col">
        <h2><strong class="messageNoInfo">Sin Información de Orden</strong></h2>
    </div>
</div>

<div class="table">
    <div class="row">
        <div class="col">
            <div class="row table-wrapper">
                <div class="col">
                    <div class="row">
                        <div class="col data-wrapper" #DETAILSORDER_TABLE>
                            <table mat-table [dataSource]="detailsOrder" matSort class="table mat-elevation-z8 table-hover" matSortDisableClear matSortActive="position" matSortDirection="asc" #details_table>
                                <!-- N° -->
                                <ng-container matColumnDef="position">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear> N°</th>
                                    <td mat-cell *matCellDef="let detailsOrder; let i = index">{{i+1}}</td>
                                </ng-container>
    
                                <!-- detail -->
                                <ng-container matColumnDef="detalle">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Detalle</th>
                                    <td mat-cell *matCellDef="let detailsOrder">{{detailsOrder.detail}}</td>
                                </ng-container>
    
                                <!-- cantidad -->
                                <ng-container matColumnDef="cantidad">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Cantidad</th>
                                    <td mat-cell *matCellDef="let detailsOrder">{{detailsOrder.cantidad}}</td>
                                </ng-container>
    
                                <!-- precioUnitario -->
                                <ng-container matColumnDef="precio">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Precio Unitario</th>
                                    <td mat-cell *matCellDef="let detailsOrder">{{detailsOrder.precioUnitario}}</td>
                                </ng-container>
    
                                <!-- totalDetail -->
                                <ng-container matColumnDef="total">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Total</th>
                                    <td mat-cell *matCellDef="let detailsOrder">{{detailsOrder.totalDetail}}</td>
                                </ng-container>
    
    
                                <tr mat-header-row *matHeaderRowDef="columns; sticky: true"></tr>
                                <tr mat-row *matRowDef="let row; columns: columns; let i = index"></tr>
                            </table>
    
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
